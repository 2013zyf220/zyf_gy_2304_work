states
source("~/.active-rstudio-document")
View(data)
View(data)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(a1)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
install.packages("car")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(my_data)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(data)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(data)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(data)
View(data)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(fit)
View(fit)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(a1)
View(fit)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(fit)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
View(a1)
View(a1)
View(a1)
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
install.packages("PerformanceAnalytics")
source("E:/zyf_gn/zyf_gn_temp/temp_2023_0924.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
View(data)
View(data)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
summary(data_1)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
View(data_1)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
View(data_1)
View(data_2)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
View(data_2)
View(student_data)
View(student_data)
View(student_data)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
View(data_2)
View(data_2)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第1讲 初始R studio.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
summary(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(model)
View(model)
View(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(model)
View(model)
View(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(model_anova)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(anova_f)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
confint(model)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(predict_v1)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(conf_interval)
View(conf_interval)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(x_1)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(conf_interval)
source("E:/zyf_gy/zyf_gy_temp/第2讲 简单线性回归temp.R")
source("E:/zyf_gy/zyf_gy_temp/第2讲 简单线性回归temp.R")
source("E:/zyf_gy/zyf_gy_temp/第2讲 简单线性回归temp.R")
source("E:/zyf_gy/zyf_gy_temp/第2讲 简单线性回归temp.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP3.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP3.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP3.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
View(predict_v1)
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
View(mtcars)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
View(mtcars)
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
View(mtcars)
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
source("C:/Users/zyf20/Downloads/第2讲 简单线性回归TEMP2.R")
View(results)
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
source("E:/zyf_gy/zyf_gy_2304_work/工具/R语言相关/R油管教程/第2讲 简单线性回归.R")
hist_1b_v <- matrix(-9999, nrow = year_len, ncol = 8);
year_s <- 2018 #to_be_set
year_e <- 2019 #to_be_set
year_len <- year_e - year_s + 1
hist_1b_v <- matrix(-9999, nrow = year_len, ncol = 8);
View(hist_1b_v)
#=================================================================
set.seed(1)
rf.train <- randomForest(as.factor(Species) ~., data = trainset, importance = TRUE, na.action = na.pass)
#refer to: https://www.bilibili.com/video/BV1tV41117cU/?spm_id_from=333.337.search-card.all.click&vd_source=5ead28bbf00e6798e790cb439bf6f631
library(pacman)
#setwd('E:/zyf_gn/zyf_gn_2301_data/ppa_2301_k2');
p_load(randomForest, caret, pROC)
data('iris')
summary(iris)
#dim(iris)
trainlist <- createDataPartition(iris$Species, p = 0.8, list = FALSE)
trainset <- iris[trainlist,]
testset <- iris[-trainlist,]
#dim(trainset)
#=================================================================
set.seed(1)
rf.train <- randomForest(as.factor(Species) ~., data = trainset, importance = TRUE, na.action = na.pass)
rf.train
source("~/.active-rstudio-document")
installed.packages(skimr)
installed.packages('skimr')
library(skimr)
installed.packages('skimr')
installed.packages('skimr')
library(DataExplorer)
installed.packages('DataExplorer')
installed.packages('caret')
installed.packages('caret')
source("~/.active-rstudio-document")
plot(grid_1b)
grid_1b = vect('E:/zyf_gy/zyf_gy_temp/LC09_L2SP_128039_20230908_20230913_02_T1_ST_B10.TIF'); #to_be_set
grid_1b = raster('E:/zyf_gy/zyf_gy_temp/LC09_L2SP_128039_20230908_20230913_02_T1_ST_B10.TIF'); #to_be_set
plot(grid_1b)
View(grid_1b)
grid_2 <- grid_1b * 2 + 35
plot(grid_2)
grid_2 <- grid_1b * 0.00341802 + 149 - 273.15
plot(grid_2)
grid_1 = raster('E:/zyf_gy/zyf_gy_temp/LC09_L2SP_128039_20230908_20230913_02_T1_ST_B10.TIF'); #to_be_set
plot(grid_1)
grid_2 <- projectRaster(grid_1, '+init=epsg:4326')
grid_2 <- projectRaster(grid_1, crs = '+init=epsg:4326')
grid_1 = raster('E:/zyf_gy/zyf_gy_temp/LC09_L2SP_128039_20230908_20230913_02_T1_ST_B10_rep.TIF'); #to_be_set
plot(grid_1)
new_extent <- extent(xmin = 106.3, xmax = 107, ymin = 29.3, ymax = 30)
library(raster)
new_extent <- extent(xmin = 106.3, xmax = 107, ymin = 29.3, ymax = 30)
new_extent <- extent(xmin = 106.3, xmax = 107, ymin = 29.3, ymax = 30)
new_extent <- extent(106.3,107, 29.3, 30)
grid_2 <- crop(grid_1, new_extent)
plot(grid_2)
grid_3 <- grid_2 * 0.00341802 +149 - 273.15
plot(grid_2)
plot(grid_3)
plot(raster_data, col = color_palette(100))
color_palette <- colorRampPalette(c("blue", "red"))
plot(raster_data, col = color_palette(100))
plot(grid_3, col = color_palette(100))
source("E:/zyf_gy/zyf_gy_2304_work/tool_codes_k1/R_lesson_machine_learning_2023a/BRT_2_v1_ing2023_1105.R")
library(MASS)
library(gbm)
library(randomForest)
library(skimr)
library(DataExplorer)
library(tidyverse)
library(caret)
library(pROC)
index_y_sel <- 'rx_rci'; #to_be_set
col_values_f <- function(f_mat, f_col_name){
if (f_col_name %in% colnames(f_mat)) {
col_index <- which(colnames(f_mat) == f_col_name)  # Find the column index
col_values <- f_mat[, col_index]  # Extract the column values
return(col_values)
} else {
cat("Column name not found in the matrix.")
return(NULL)
}
}
data_1 <- read.csv('E:/zyf_gn/zyf_gn_2301_data/ppa_2301_k2/shp/outputs2/2301_river_6_2021.csv'); #to_be_set
data_2 <- data_1[,c(3,7,16,18,20,22,33,34,35,48)] #to_be_set
skim(data_2) #鸟瞰数据
plot_missing(data_2) #数据缺失状况
data_2v <- col_values_f(data_2, index_y_sel)
hist(data_2v, breaks = 50) #to_be_set #对因变量做直方图
#分类数据
set.seed(1)
trains <- createDataPartition(y = data_2v, p = 0.75, list = F); #to_be_set #基于因变量拆分
train_data <- data_2[trains, ]
test_data <- data_2[-trains, ]
train_data_v <- col_values_f(train_data, index_y_sel)
test_data_v <- col_values_f(test_data, index_y_sel)
hist(train_data_v, breaks = 50) #to_be_set
hist(test_data_v, breaks = 50) #to_be_set
colnames(data_2) #get the column names of data_2
#构建公式
col_ext <- c(1, 2, 3, 4, 5, 6, 10) #to_be_set
form_reg <- as.formula(paste0(index_y_sel,' ~', paste(colnames(train_data)[col_ext], collapse = ' + '))) #to_be_set #as.formula(): 将字符串转换成公式
form_reg
set.seed(123)
fit_1 <- gbm(form_reg, data = train_data, verbose = TRUE, shrinkage = 0.01, interaction.depth = 3,
n.minobsinnode = 5, n.trees = 5000, cv.folds = 10)
print(fit_1)
summary(fit_1)
perf_gbm1 = gbm.perf(fit_1, method = "cv")
perf_gbm1
